import React from "react"
import Styles from "./Bill.module.css"
import Link from "next/link"
import { useEffect, useState } from "react"

const deliveryStatus = {
  received:
    "M12 2.40001V2.80001C12 2.85305 11.9789 2.90392 11.9414 2.94143C11.9039 2.97894 11.853 3.00001 11.8 3.00001H11.2V3.30001C11.2 3.46568 11.0657 3.60001 10.9 3.60001H1.1C0.934325 3.60001 0.8 3.46568 0.8 3.30001V3.00001H0.2C0.146957 3.00001 0.0960859 2.97894 0.0585786 2.94143C0.0210714 2.90392 0 2.85305 0 2.80001V2.40001C2.86036e-07 2.36044 0.011737 2.32176 0.033725 2.28887C0.0557131 2.25597 0.0869645 2.23034 0.123525 2.21521L5.92352 0.0152068C5.97249 -0.00506893 6.02751 -0.00506893 6.07647 0.0152068L11.8765 2.21521C11.913 2.23034 11.9443 2.25597 11.9663 2.28887C11.9883 2.32176 12 2.36044 12 2.40001ZM11.4 10H0.6C0.268625 10 0 10.2686 0 10.6V11C0 11.053 0.0210714 11.1039 0.0585786 11.1414C0.0960859 11.1789 0.146957 11.2 0.2 11.2H11.8C11.853 11.2 11.9039 11.1789 11.9414 11.1414C11.9789 11.1039 12 11.053 12 11V10.6C12 10.2686 11.7314 10 11.4 10ZM2 4.00001V8.80001H1.1C0.934325 8.80001 0.8 8.93433 0.8 9.10001V9.60001H11.2V9.10001C11.2 8.93433 11.0657 8.80001 10.9 8.80001H10V4.00001H8.4V8.80001H6.8V4.00001H5.2V8.80001H3.6V4.00001H2Z",
  pending:
    "M6 0C2.68548 0 0 2.68548 0 6C0 9.31452 2.68548 12 6 12C9.31452 12 12 9.31452 12 6C12 2.68548 9.31452 0 6 0ZM6 10.8387C3.32661 10.8387 1.16129 8.67339 1.16129 6C1.16129 3.32661 3.32661 1.16129 6 1.16129C8.67339 1.16129 10.8387 3.32661 10.8387 6C10.8387 8.67339 8.67339 10.8387 6 10.8387ZM7.49516 8.3129L5.44113 6.82016C5.36613 6.76452 5.32258 6.67742 5.32258 6.58548V2.6129C5.32258 2.45323 5.45323 2.32258 5.6129 2.32258H6.3871C6.54677 2.32258 6.67742 2.45323 6.67742 2.6129V6.04113L8.29355 7.21694C8.42419 7.31129 8.45081 7.49274 8.35645 7.62339L7.90161 8.25C7.80726 8.37823 7.62581 8.40726 7.49516 8.3129Z",
  delivered:
    "M6 0C2.68628 0 0 2.68628 0 6C0 9.31372 2.68628 12 6 12C9.31372 12 12 9.31372 12 6C12 2.68628 9.31372 0 6 0ZM6 1.16129C8.67416 1.16129 10.8387 3.32543 10.8387 6C10.8387 8.67416 8.67457 10.8387 6 10.8387C3.32584 10.8387 1.16129 8.67457 1.16129 6C1.16129 3.32584 3.32543 1.16129 6 1.16129ZM9.39203 4.31291L8.84681 3.76328C8.7339 3.64945 8.55007 3.6487 8.43624 3.76164L5.01644 7.15396L3.56985 5.69564C3.45694 5.58181 3.27312 5.58106 3.15929 5.69398L2.60964 6.2392C2.49581 6.35211 2.49506 6.53594 2.60799 6.64979L4.80431 8.86389C4.91722 8.97772 5.10104 8.97847 5.21487 8.86553L9.39041 4.7235C9.50422 4.61056 9.50494 4.42674 9.39203 4.31291Z",
  sending:
    "M6 0C2.68548 0 0 2.68548 0 6C0 9.31452 2.68548 12 6 12C9.31452 12 12 9.31452 12 6C12 2.68548 9.31452 0 6 0ZM6 10.8387C3.32661 10.8387 1.16129 8.67339 1.16129 6C1.16129 3.32661 3.32661 1.16129 6 1.16129C8.67339 1.16129 10.8387 3.32661 10.8387 6C10.8387 8.67339 8.67339 10.8387 6 10.8387ZM7.49516 8.3129L5.44113 6.82016C5.36613 6.76452 5.32258 6.67742 5.32258 6.58548V2.6129C5.32258 2.45323 5.45323 2.32258 5.6129 2.32258H6.3871C6.54677 2.32258 6.67742 2.45323 6.67742 2.6129V6.04113L8.29355 7.21694C8.42419 7.31129 8.45081 7.49274 8.35645 7.62339L7.90161 8.25C7.80726 8.37823 7.62581 8.40726 7.49516 8.3129Z",
}

function Bill({ bill }) {
  const [className, setClassName] = useState("")
  useEffect(() => {
    const x = bill.sign === "+" ? Styles.Bill : Styles.Bill + " " + Styles.Right
    setClassName(x)
  }, [])

  return (
    <div className={className}>
      <div className={Styles.Transaction}>
        <div>
          <h1>
            {bill.amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")}
          </h1>
          <h3>{bill.reason.slice(0, 14)}</h3>
        </div>
      </div>
      <div className={Styles.Delivery}>
        <svg
          width="12"
          height="12"
          viewBox="0 0 12 12"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d={deliveryStatus[bill.deliveryStatus]} fill="white" />
        </svg>
        <time>{bill.deliveryStatus}</time>
      </div>
    </div>
  )
}

export default Bill
